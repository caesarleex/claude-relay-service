import{aP as Te,r as I,x as n,y as i,z as e,L as k,Q as J,ac as G,K as p,C as P,P as y,O as c,S as K,aq as w,_ as N,q as ue,aX as Ce,aW as Se,c as ne,o as ie,Z as _e,u as v,al as Q,aT as O,R as de,aV as Y,J as Ie,T as Ae,Y as Ve}from"./vue-vendor-R8HMg95E.js";import{c as B,_ as ge,s as d}from"./index-Bgh-UQWS.js";import"./element-plus-DQlGMPYZ.js";import"./vendor-Dr8jvgFu.js";const Be=Te("settings",()=>{const A=I({siteName:"Claude Relay Service",siteIcon:"",siteIconData:"",showAdminButton:!0,updatedAt:null}),x=I(!1),j=I(!1),o=async()=>{x.value=!0;try{const m=await B.get("/admin/oem-settings");return m&&m.success&&(A.value={...A.value,...m.data},l()),m}catch(m){throw console.error("Failed to load OEM settings:",m),m}finally{x.value=!1}},b=async m=>{j.value=!0;try{const g=await B.put("/admin/oem-settings",m);return g&&g.success&&(A.value={...A.value,...g.data},l()),g}catch(g){throw console.error("Failed to save OEM settings:",g),g}finally{j.value=!1}},W=async()=>{const m={siteName:"Claude Relay Service",siteIcon:"",siteIconData:"",showAdminButton:!0,updatedAt:null};return A.value={...m},await b(m)},l=()=>{if(A.value.siteName&&(document.title=`${A.value.siteName} - ç®¡ç†åå°`),A.value.siteIconData||A.value.siteIcon){const m=document.querySelector('link[rel="icon"]')||document.createElement("link");m.rel="icon",m.href=A.value.siteIconData||A.value.siteIcon,document.querySelector('link[rel="icon"]')||document.head.appendChild(m)}};return{oemSettings:A,loading:x,saving:j,loadOemSettings:o,saveOemSettings:b,resetOemSettings:W,applyOemSettings:l,formatDateTime:m=>m?new Date(m).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",validateIconFile:m=>{const g=[];return m.size>350*1024&&g.push("å›¾æ ‡æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 350KB"),["image/x-icon","image/png","image/jpeg","image/jpg","image/svg+xml"].includes(m.type)||g.push("ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼Œè¯·é€‰æ‹© .ico, .png, .jpg æˆ– .svg æ–‡ä»¶"),{isValid:g.length===0,errors:g}},fileToBase64:m=>new Promise((g,D)=>{const $=new FileReader;$.onload=E=>g(E.target.result),$.onerror=D,$.readAsDataURL(m)})}}),Pe={name:"PromptsView",props:{embedded:{type:Boolean,default:!1}},setup(){const A=I([{id:"codex",name:"Codex CLI",description:"OpenAI Responses æœåŠ¡çš„é»˜è®¤æç¤ºè¯",icon:"fas fa-code"},{id:"claudeCode",name:"Claude Code",description:"Claude Code æœåŠ¡çš„é»˜è®¤æç¤ºè¯",icon:"fas fa-robot"},{id:"droid",name:"Droid",description:"Droid (Factory.ai) æœåŠ¡çš„é»˜è®¤æç¤ºè¯",icon:"fas fa-wrench"}]),x=[{id:"manual",name:"æ‰‹åŠ¨ç¼–è¾‘",icon:"fas fa-edit"},{id:"upload",name:"æ–‡ä»¶ä¸Šä¼ ",icon:"fas fa-upload"},{id:"url",name:"URL å¯¼å…¥",icon:"fas fa-link"}],j=I(!1),o=N({codex:"",claudeCode:"",droid:""}),b=N({}),W=I({}),l=N({}),M=N({}),f=N({}),S=N({codex:"manual",claudeCode:"manual",droid:"manual"}),m=N({codex:"",claudeCode:"",droid:""}),g=N({codex:null,claudeCode:null,droid:null}),D=async()=>{try{const u=await B.get("/admin/prompts/meta/config");if(u.success){const h={};u.data.forEach(_=>{h[_.id]=_}),W.value=h}else d("åŠ è½½é…ç½®å…ƒæ•°æ®å¤±è´¥","error")}catch(u){console.error("Failed to load configs:",u),d("åŠ è½½é…ç½®å…ƒæ•°æ®å¤±è´¥","error")}},$=async()=>{j.value=!0;try{await D();for(const u of A.value){const h=await B.get(`/admin/prompts/${u.id}`);h.success&&(o[u.id]=h.content||"",b[u.id]={lastModified:h.lastModified,enabled:h.enabled,length:h.length})}}catch(u){console.error("Failed to load prompts:",u),d("åŠ è½½ Prompts å¤±è´¥","error")}finally{j.value=!1}},E=async u=>{var h,_;l[u]=!0;try{const C=await B.put(`/admin/prompts/${u}`,{content:o[u]});C.success?(d("ä¿å­˜æˆåŠŸ","success"),await $()):d(C.error||"ä¿å­˜å¤±è´¥","error")}catch(C){console.error(`Failed to save ${u} prompt:`,C),d(((_=(h=C.response)==null?void 0:h.data)==null?void 0:_.error)||"ä¿å­˜å¤±è´¥","error")}finally{l[u]=!1}},z=()=>{const u=document.querySelector('input[type="file"][accept=".txt"]');u&&(u.value="",u.click())},T=async(u,h)=>{var C,U;const _=h.target.files[0];if(_){if(!_.name.endsWith(".txt")){d("ä»…æ”¯æŒ .txt æ–‡ä»¶","error");return}if(_.size>1024*1024){d("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 1MB","error");return}M[u]=!0;try{const q=new FormData;q.append("file",_);const H=await B.post(`/admin/prompts/${u}/upload`,q,{headers:{"Content-Type":"multipart/form-data"}});H.success?(d("ä¸Šä¼ æˆåŠŸ","success"),await $(),S[u]="manual"):d(H.error||"ä¸Šä¼ å¤±è´¥","error")}catch(q){console.error(`Failed to upload ${u} prompt:`,q),d(((U=(C=q.response)==null?void 0:C.data)==null?void 0:U.error)||"ä¸Šä¼ å¤±è´¥","error")}finally{M[u]=!1}}},R=async u=>{var _,C;const h=m[u];if(h){if(!h.startsWith("https://")){d("ä»…æ”¯æŒ HTTPS åè®®","error");return}f[u]=!0;try{const U=await B.post(`/admin/prompts/${u}/import-url`,{url:h,validate:!0});U.success?(g[u]=U.preview||U.content,d("é¢„è§ˆåŠ è½½æˆåŠŸ","success")):d(U.error||"é¢„è§ˆå¤±è´¥","error")}catch(U){console.error(`Failed to preview ${u} prompt:`,U),d(((C=(_=U.response)==null?void 0:_.data)==null?void 0:C.error)||"é¢„è§ˆå¤±è´¥","error")}finally{f[u]=!1}}},F=async u=>{var _,C;const h=m[u];if(h){if(!h.startsWith("https://")){d("ä»…æ”¯æŒ HTTPS åè®®","error");return}f[u]=!0;try{const U=await B.post(`/admin/prompts/${u}/import-url`,{url:h,validate:!1});U.success?(d("å¯¼å…¥æˆåŠŸ","success"),await $(),S[u]="manual",m[u]="",g[u]=null):d(U.error||"å¯¼å…¥å¤±è´¥","error")}catch(U){console.error(`Failed to import ${u} prompt:`,U),d(((C=(_=U.response)==null?void 0:_.data)==null?void 0:C.error)||"å¯¼å…¥å¤±è´¥","error")}finally{f[u]=!1}}},r=u=>u?new Date(u).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"";return ue(()=>{$()}),{services:A,editModes:x,loading:j,prompts:o,metadata:b,serviceConfigs:W,saving:l,uploading:M,importing:f,currentMode:S,importUrls:m,urlPreviews:g,savePrompt:E,triggerFileUpload:z,handleFileUpload:T,previewFromUrl:R,importFromUrl:F,formatDateTime:r}}},De={class:"prompts-container"},$e={key:0,class:"mb-4 sm:mb-6"},Fe={key:1,class:"py-12 text-center"},Le={key:2,class:"space-y-6"},je={class:"mb-4 flex items-center justify-between"},Me={class:"flex items-center"},Ee={class:"mr-3 flex h-10 w-10 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 text-white"},Re={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},Ne={class:"text-sm text-gray-500 dark:text-gray-400"},We={class:"text-right"},qe={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Oe={key:0,class:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800 dark:bg-blue-900 dark:text-blue-200"},Ke={key:0,class:"mb-4 rounded-lg bg-blue-50 p-3 dark:bg-blue-900/20"},ze={class:"flex items-start"},He={class:"flex-1"},Qe={class:"mt-1 text-xs text-blue-700 dark:text-blue-300"},Je={class:"rounded bg-blue-100 px-1.5 py-0.5 dark:bg-blue-800"},Xe={class:"ml-2"},Ye={class:"mt-2 flex items-center text-xs"},Ge={class:"mb-4"},Ze={class:"flex space-x-4"},et=["onClick"],tt=["onUpdate:modelValue","placeholder","rows"],rt={class:"mt-3 flex items-center justify-between"},at={class:"text-xs text-gray-500 dark:text-gray-400"},st={key:0},lt=["disabled","onClick"],ot={key:0,class:"loading-spinner mr-2"},nt={key:1,class:"fas fa-save mr-2"},it={class:"rounded-lg bg-gray-50 p-6 dark:bg-gray-700"},dt=["onChange"],ut=["disabled"],gt={key:0,class:"loading-spinner mr-2"},ct={key:1,class:"fas fa-upload mr-2"},ft={class:"space-y-3"},mt=["for"],xt=["id","onUpdate:modelValue"],pt={class:"flex items-center space-x-3"},yt=["disabled","onClick"],bt=["disabled","onClick"],vt={key:0,class:"loading-spinner mr-2"},kt={key:1,class:"fas fa-download mr-2"},ht={key:0,class:"mt-4 rounded-lg bg-gray-50 p-4 dark:bg-gray-700"},wt={class:"mb-2 flex items-center justify-between"},Ut=["onClick"],Tt={class:"max-h-64 overflow-auto rounded border border-gray-200 bg-white p-3 text-xs dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300"};function Ct(A,x,j,o,b,W){return i(),n("div",De,[e("div",{class:P(j.embedded?"":"card p-4 sm:p-6")},[j.embedded?k("",!0):(i(),n("div",$e,x[1]||(x[1]=[e("h3",{class:"mb-1 text-lg font-bold text-gray-900 dark:text-gray-100 sm:mb-2 sm:text-xl"}," System Prompts ç®¡ç† ",-1),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 sm:text-base"}," ç®¡ç†å„æœåŠ¡çš„é»˜è®¤ç³»ç»Ÿæç¤ºè¯ ",-1)]))),o.loading?(i(),n("div",Fe,x[2]||(x[2]=[e("div",{class:"loading-spinner mx-auto mb-4"},null,-1),e("p",{class:"text-gray-500 dark:text-gray-400"},"æ­£åœ¨åŠ è½½ Prompts...",-1)]))):(i(),n("div",Le,[(i(!0),n(J,null,G(o.services,l=>{var M,f,S,m;return i(),n("div",{key:l.id,class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800 sm:p-6"},[e("div",je,[e("div",Me,[e("div",Ee,[e("i",{class:P(["text-lg",l.icon])},null,2)]),e("div",null,[e("h3",Re,y(l.name),1),e("p",Ne,y(l.description),1)])]),e("div",We,[e("div",qe,[o.prompts[l.id]?(i(),n("span",Oe,y(o.prompts[l.id].length)+" å­—ç¬¦ ",1)):k("",!0)])])]),o.serviceConfigs[l.id]?(i(),n("div",Ke,[e("div",ze,[x[5]||(x[5]=e("i",{class:"fas fa-info-circle mr-2 mt-0.5 text-blue-600 dark:text-blue-400"},null,-1)),e("div",He,[x[4]||(x[4]=e("div",{class:"text-sm font-medium text-blue-900 dark:text-blue-200"},"ç¯å¢ƒå˜é‡é…ç½®",-1)),e("div",Qe,[e("code",Je,y(o.serviceConfigs[l.id].envVar||"N/A"),1),e("span",Xe,y(o.serviceConfigs[l.id].envDescription||""),1)]),e("div",Ye,[x[3]||(x[3]=e("span",{class:"font-medium text-blue-900 dark:text-blue-200"},"å½“å‰çŠ¶æ€:",-1)),e("span",{class:P(["ml-2 inline-flex items-center rounded-full px-2 py-0.5 font-medium",(M=o.metadata[l.id])!=null&&M.enabled?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"])},[e("i",{class:P(["mr-1 text-xs",(f=o.metadata[l.id])!=null&&f.enabled?"fas fa-check-circle":"fas fa-times-circle"])},null,2),c(" "+y((S=o.metadata[l.id])!=null&&S.enabled?"å·²å¯ç”¨":"å·²ç¦ç”¨"),1)],2)])])])])):k("",!0),e("div",Ge,[e("nav",Ze,[(i(!0),n(J,null,G(o.editModes,g=>(i(),n("button",{key:g.id,class:P(["rounded-lg px-3 py-2 text-sm font-medium transition-colors",o.currentMode[l.id]===g.id?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200":"text-gray-600 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200"]),onClick:D=>o.currentMode[l.id]=g.id},[e("i",{class:P(["mr-2",g.icon])},null,2),c(" "+y(g.name),1)],10,et))),128))])]),p(e("div",null,[p(e("textarea",{"onUpdate:modelValue":g=>o.prompts[l.id]=g,class:"form-input w-full font-mono text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200",placeholder:`è¾“å…¥ ${l.name} çš„ system prompt...`,rows:l.id==="codex"?25:3},null,8,tt),[[w,o.prompts[l.id]]]),e("div",rt,[e("div",at,[(m=o.metadata[l.id])!=null&&m.lastModified?(i(),n("span",st,[x[6]||(x[6]=e("i",{class:"fas fa-clock mr-1"},null,-1)),c(" æœ€åä¿®æ”¹: "+y(o.formatDateTime(o.metadata[l.id].lastModified)),1)])):k("",!0)]),e("button",{class:P(["btn btn-primary px-4 py-2",{"cursor-not-allowed opacity-50":o.saving[l.id]}]),disabled:o.saving[l.id],onClick:g=>o.savePrompt(l.id)},[o.saving[l.id]?(i(),n("div",ot)):(i(),n("i",nt)),c(" "+y(o.saving[l.id]?"ä¿å­˜ä¸­...":"ä¿å­˜"),1)],10,lt)])],512),[[K,o.currentMode[l.id]==="manual"]]),p(e("div",null,[e("div",it,[x[7]||(x[7]=e("div",{class:"mb-4 text-center"},[e("i",{class:"fas fa-upload mb-2 text-4xl text-gray-400 dark:text-gray-500"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"æ”¯æŒ .txt æ ¼å¼ï¼Œæœ€å¤§ 1MB")],-1)),e("input",{ref_for:!0,ref:`fileInput_${l.id}`,accept:".txt",class:"hidden",type:"file",onChange:g=>o.handleFileUpload(l.id,g)},null,40,dt),e("button",{class:"btn btn-success mx-auto block px-6 py-3",disabled:o.uploading[l.id],onClick:x[0]||(x[0]=g=>o.triggerFileUpload())},[o.uploading[l.id]?(i(),n("div",gt)):(i(),n("i",ct)),c(" "+y(o.uploading[l.id]?"ä¸Šä¼ ä¸­...":"é€‰æ‹©æ–‡ä»¶ä¸Šä¼ "),1)],8,ut)])],512),[[K,o.currentMode[l.id]==="upload"]]),p(e("div",null,[e("div",ft,[e("div",null,[e("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300",for:`url_${l.id}`}," HTTPS URL ",8,mt),p(e("input",{id:`url_${l.id}`,"onUpdate:modelValue":g=>o.importUrls[l.id]=g,class:"form-input w-full dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200",placeholder:"https://example.com/prompt.txt",type:"url"},null,8,xt),[[w,o.importUrls[l.id]]]),x[8]||(x[8]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," ä»…æ”¯æŒ HTTPS åè®®ï¼Œæœ€å¤§ 1MB ",-1))]),e("div",pt,[e("button",{class:"btn btn-primary px-4 py-2",disabled:!o.importUrls[l.id]||o.importing[l.id],onClick:g=>o.previewFromUrl(l.id)},x[9]||(x[9]=[e("i",{class:"fas fa-eye mr-2"},null,-1),c(" é¢„è§ˆ ",-1)]),8,yt),e("button",{class:"btn btn-success px-4 py-2",disabled:!o.importUrls[l.id]||o.importing[l.id],onClick:g=>o.importFromUrl(l.id)},[o.importing[l.id]?(i(),n("div",vt)):(i(),n("i",kt)),c(" "+y(o.importing[l.id]?"å¯¼å…¥ä¸­...":"ç›´æ¥å¯¼å…¥"),1)],8,bt)]),o.urlPreviews[l.id]?(i(),n("div",ht,[e("div",wt,[x[11]||(x[11]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," é¢„è§ˆå†…å®¹ ",-1)),e("button",{class:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:g=>o.urlPreviews[l.id]=null},x[10]||(x[10]=[e("i",{class:"fas fa-times"},null,-1)]),8,Ut)]),e("pre",Tt,y(o.urlPreviews[l.id]),1)])):k("",!0)])],512),[[K,o.currentMode[l.id]==="url"]])])}),128))]))],2)])}const St=ge(Pe,[["render",Ct],["__scopeId","data-v-c1765934"]]),_t={class:"settings-container"},It={class:"card p-4 sm:p-6"},At={class:"mb-6"},Vt={class:"flex space-x-8"},Bt={key:0,class:"py-12 text-center"},Pt={key:1},Dt={class:"table-container hidden sm:block"},$t={class:"min-w-full"},Ft={class:"divide-y divide-gray-200/50 dark:divide-gray-600/50"},Lt={class:"table-row"},jt={class:"px-6 py-4"},Mt={class:"table-row"},Et={class:"px-6 py-4"},Rt={class:"space-y-3"},Nt={key:0,class:"inline-flex items-center gap-3 rounded-lg bg-gray-50 p-3 dark:bg-gray-700"},Wt=["src"],qt={class:"table-row"},Ot={class:"px-6 py-4"},Kt={class:"flex items-center"},zt={class:"inline-flex cursor-pointer items-center"},Ht={class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},Qt={class:"px-6 py-6",colspan:"2"},Jt={class:"flex items-center justify-between"},Xt={class:"flex gap-3"},Yt=["disabled"],Gt={key:0,class:"loading-spinner mr-2"},Zt={key:1,class:"fas fa-save mr-2"},er=["disabled"],tr={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},rr={class:"space-y-4 sm:hidden"},ar={class:"glass-card p-4"},sr={class:"glass-card p-4"},lr={class:"space-y-3"},or={key:0,class:"inline-flex items-center gap-3 rounded-lg bg-gray-50 p-3 dark:bg-gray-700"},nr=["src"],ir={class:"glass-card p-4"},dr={class:"space-y-2"},ur={class:"inline-flex cursor-pointer items-center"},gr={class:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},cr={class:"glass-card p-4"},fr={class:"flex flex-col gap-3"},mr=["disabled"],xr={key:0,class:"loading-spinner mr-2"},pr={key:1,class:"fas fa-save mr-2"},yr=["disabled"],br={key:0,class:"text-center text-sm text-gray-500 dark:text-gray-400"},vr={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},kr={class:"flex items-center justify-between"},hr={class:"relative inline-flex cursor-pointer items-center"},wr={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},Ur={class:"space-y-3"},Tr={class:"font-medium text-gray-700 dark:text-gray-300"},Cr={class:"ml-2 text-sm text-gray-500 dark:text-gray-400"},Sr={class:"relative inline-flex cursor-pointer items-center"},_r=["onUpdate:modelValue"],Ir={class:"mb-6 rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},Ar={class:"mb-4 flex items-center justify-between"},Vr={key:0,class:"space-y-4"},Br={class:"flex items-start justify-between"},Pr={class:"flex-1"},Dr={class:"flex items-center"},$r={class:"font-semibold text-gray-800 dark:text-gray-200"},Fr={class:"text-sm text-gray-500 dark:text-gray-400"},Lr={class:"mt-3 space-y-1 text-sm"},jr={key:0,class:"flex items-center text-gray-600 dark:text-gray-400"},Mr={class:"truncate"},Er={key:1,class:"flex items-center text-gray-600 dark:text-gray-400"},Rr={class:"truncate"},Nr={key:2,class:"flex items-center text-gray-600 dark:text-gray-400"},Wr={class:"truncate"},qr={key:3,class:"flex items-center text-gray-600 dark:text-gray-400"},Or={class:"truncate"},Kr={key:4,class:"flex items-center text-gray-600 dark:text-gray-400"},zr={class:"truncate"},Hr={key:5,class:"flex items-center text-gray-600 dark:text-gray-400"},Qr={class:"truncate"},Jr={key:6,class:"flex items-center text-gray-600 dark:text-gray-400"},Xr={class:"ml-4 flex items-center space-x-2"},Yr={class:"relative inline-flex cursor-pointer items-center"},Gr=["checked","onChange"],Zr=["onClick"],ea=["onClick"],ta=["onClick"],ra={key:1,class:"py-8 text-center text-gray-500 dark:text-gray-400"},aa={class:"rounded-lg bg-white/80 p-6 shadow-lg backdrop-blur-sm dark:bg-gray-800/80"},sa={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},la={class:"dark:to-gray-750 relative border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-5 dark:border-gray-700 dark:from-gray-800"},oa={class:"flex items-center justify-between"},na={class:"flex items-center space-x-3"},ia={class:"text-xl font-semibold text-gray-900 dark:text-white"},da={class:"mt-0.5 text-sm text-gray-600 dark:text-gray-400"},ua={class:"p-6"},ga={class:"space-y-5"},ca={class:"relative"},fa=["disabled"],ma={key:0,class:"mt-1 text-xs text-amber-600 dark:text-amber-400"},xa={key:0},pa={class:"relative"},ya={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3"},ba={key:1,class:"absolute inset-y-0 right-0 flex items-center pr-3"},va={key:0,class:"mt-2 flex items-start rounded-lg bg-blue-50 p-3 dark:bg-blue-900/20"},ka={class:"text-sm text-blue-700 dark:text-blue-300"},ha={key:1,class:"space-y-5"},wa={key:2,class:"space-y-5"},Ua={key:3,class:"space-y-5"},Ta={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Ca={key:4,class:"rounded-xl border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-900/50"},Sa={class:"space-y-4"},_a={class:"flex items-center justify-between"},Ia={class:"flex cursor-pointer items-center",for:"enableSign"},Aa={key:0,class:"rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700 dark:bg-green-900/50 dark:text-green-400"},Va={key:0},Ba={class:"border-t border-gray-200 bg-gray-50 px-6 py-4 dark:border-gray-700 dark:bg-gray-900/50"},Pa={class:"flex items-center justify-between"},Da={class:"flex space-x-3"},$a=["disabled"],Fa=["disabled"],La=Object.assign({name:"SettingsView"},{__name:"SettingsView",setup(A){const x=Be(),{loading:j,saving:o,oemSettings:b}=Ce(x),W=I(),l=I("branding"),M=Se();M.query.section&&["branding","webhook","prompts"].includes(M.query.section)&&(l.value=M.query.section);const f=I(!0),S=I(new AbortController),m=ne({get(){return!b.value.showAdminButton},set(a){b.value.showAdminButton=!a}}),g=I(!1),D=I(!1),$=I(!1),E=I(!1),z={accountAnomaly:!0,quotaWarning:!0,systemError:!0,securityAlert:!0,rateLimitRecovery:!0},T=I({enabled:!1,platforms:[],notificationTypes:{...z},retrySettings:{maxRetries:3,retryDelay:1e3,timeout:1e4}}),R=I(!1),F=I(null),r=I({type:"wechat_work",name:"",url:"",enableSign:!1,secret:"",botToken:"",chatId:"",apiBaseUrl:"",proxyUrl:"",deviceKey:"",serverUrl:"",level:"",sound:"",group:"",host:"",port:null,secure:!1,user:"",pass:"",from:"",to:"",timeout:null,ignoreTLS:!1}),u=ie(l,async a=>{f.value&&a==="webhook"&&await C()}),h=ie(()=>r.value.type,a=>{g.value=!1,D.value=!1,F.value||(a==="bark"?(r.value.url="",r.value.enableSign=!1,r.value.secret="",r.value.botToken="",r.value.chatId="",r.value.apiBaseUrl="",r.value.proxyUrl="",r.value.host="",r.value.port=null,r.value.secure=!1,r.value.user="",r.value.pass="",r.value.from="",r.value.to="",r.value.timeout=null,r.value.ignoreTLS=!1):a==="smtp"?(r.value.url="",r.value.enableSign=!1,r.value.secret="",r.value.deviceKey="",r.value.serverUrl="",r.value.level="",r.value.sound="",r.value.group="",r.value.botToken="",r.value.chatId="",r.value.apiBaseUrl="",r.value.proxyUrl=""):a==="telegram"?(r.value.url="",r.value.enableSign=!1,r.value.secret="",r.value.deviceKey="",r.value.serverUrl="",r.value.level="",r.value.sound="",r.value.group="",r.value.host="",r.value.port=null,r.value.secure=!1,r.value.user="",r.value.pass="",r.value.from="",r.value.to="",r.value.timeout=null,r.value.ignoreTLS=!1,r.value.botToken="",r.value.chatId="",r.value.apiBaseUrl="",r.value.proxyUrl=""):(r.value.deviceKey="",r.value.serverUrl="",r.value.level="",r.value.sound="",r.value.group="",r.value.host="",r.value.port=null,r.value.secure=!1,r.value.user="",r.value.pass="",r.value.from="",r.value.to="",r.value.timeout=null,r.value.ignoreTLS=!1,r.value.botToken="",r.value.chatId="",r.value.apiBaseUrl="",r.value.proxyUrl=""))}),_=ne(()=>r.value.type==="bark"?!!r.value.deviceKey:r.value.type==="telegram"?!!(r.value.botToken&&r.value.chatId):r.value.type==="smtp"?!!(r.value.host&&r.value.user&&r.value.pass&&r.value.to):!!r.value.url&&!g.value);ue(async()=>{try{await x.loadOemSettings(),l.value==="webhook"&&await C()}catch{d("åŠ è½½è®¾ç½®å¤±è´¥","error")}}),_e(()=>{f.value=!1,S.value&&S.value.abort(),u&&u(),h&&h(),R.value&&(R.value=!1,F.value=null)});const C=async()=>{if(f.value)try{const a=await B.get("/admin/webhook/config",{signal:S.value.signal});if(a.success&&f.value){const t=a.config||{};T.value={...t,notificationTypes:{...z,...t.notificationTypes||{}}}}}catch(a){if(a.name==="AbortError"||!f.value)return;d("è·å–webhooké…ç½®å¤±è´¥","error"),console.error(a)}},U=async()=>{if(f.value)try{const a={...T.value,notificationTypes:{...z,...T.value.notificationTypes||{}}};(await B.post("/admin/webhook/config",a,{signal:S.value.signal})).success&&f.value&&(T.value=a,d("é…ç½®å·²ä¿å­˜","success"))}catch(a){if(a.name==="AbortError"||!f.value)return;d("ä¿å­˜é…ç½®å¤±è´¥","error"),console.error(a)}},q=()=>{if(["bark","smtp","telegram"].includes(r.value.type)){g.value=!1,D.value=!1;return}const a=r.value.url;if(!a){g.value=!1,D.value=!1;return}try{new URL(a),a.startsWith("http://")||a.startsWith("https://")?(g.value=!1,D.value=!0):(g.value=!0,D.value=!1)}catch{g.value=!0,D.value=!1}},H=()=>{if(r.value.type==="bark"){if(!r.value.deviceKey)return d("è¯·è¾“å…¥Barkè®¾å¤‡å¯†é’¥","error"),!1}else if(r.value.type==="telegram"){if(!r.value.botToken)return d("è¯·è¾“å…¥ Telegram æœºå™¨äºº Token","error"),!1;if(!r.value.chatId)return d("è¯·è¾“å…¥ Telegram Chat ID","error"),!1;if(r.value.apiBaseUrl)try{const a=new URL(r.value.apiBaseUrl);if(!["http:","https:"].includes(a.protocol))return d("Telegram API åŸºç¡€åœ°å€ä»…æ”¯æŒ http æˆ– https","error"),!1}catch{return d("è¯·è¾“å…¥æœ‰æ•ˆçš„ Telegram API åŸºç¡€åœ°å€","error"),!1}if(r.value.proxyUrl)try{const a=new URL(r.value.proxyUrl);if(!["http:","https:","socks4:","socks4a:","socks5:"].includes(a.protocol))return d("Telegram ä»£ç†ä»…æ”¯æŒ http/https/socks åè®®","error"),!1}catch{return d("è¯·è¾“å…¥æœ‰æ•ˆçš„ Telegram ä»£ç†åœ°å€","error"),!1}}else if(r.value.type==="smtp"){const a=[{field:"host",message:"SMTPæœåŠ¡å™¨"},{field:"user",message:"ç”¨æˆ·å"},{field:"pass",message:"å¯†ç "},{field:"to",message:"æ”¶ä»¶äººé‚®ç®±"}];for(const{field:t,message:s}of a)if(!r.value[t])return d(`è¯·è¾“å…¥${s}`,"error"),!1}else{if(!r.value.url)return d("è¯·è¾“å…¥Webhook URL","error"),!1;if(g.value)return d("è¯·è¾“å…¥æœ‰æ•ˆçš„Webhook URL","error"),!1}return!0},ce=async()=>{if(f.value&&H()){E.value=!0;try{let a;F.value?a=await B.put(`/admin/webhook/platforms/${F.value.id}`,r.value,{signal:S.value.signal}):a=await B.post("/admin/webhook/platforms",r.value,{signal:S.value.signal}),a.success&&f.value&&(d(F.value?"å¹³å°å·²æ›´æ–°":"å¹³å°å·²æ·»åŠ ","success"),await C(),X())}catch(a){if(a.name==="AbortError"||!f.value)return;d(a.message||"æ“ä½œå¤±è´¥","error"),console.error(a)}finally{f.value&&(E.value=!1)}}},fe=a=>{F.value=a,r.value={type:a.type||"wechat_work",name:a.name||"",url:a.url||"",enableSign:a.enableSign||!1,secret:a.secret||"",botToken:a.botToken||"",chatId:a.chatId||"",apiBaseUrl:a.apiBaseUrl||"",proxyUrl:a.proxyUrl||"",deviceKey:a.deviceKey||"",serverUrl:a.serverUrl||"",level:a.level||"",sound:a.sound||"",group:a.group||"",host:a.host||"",port:a.port??null,secure:a.secure||!1,user:a.user||"",pass:a.pass||"",from:a.from||"",to:Array.isArray(a.to)?a.to.join(", "):a.to||"",timeout:a.timeout??null,ignoreTLS:a.ignoreTLS||!1},R.value=!0},me=async a=>{if(f.value&&confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¹³å°å—ï¼Ÿ"))try{(await B.delete(`/admin/webhook/platforms/${a}`,{signal:S.value.signal})).success&&f.value&&(d("å¹³å°å·²åˆ é™¤","success"),await C())}catch(t){if(t.name==="AbortError"||!f.value)return;d("åˆ é™¤å¤±è´¥","error"),console.error(t)}},xe=async a=>{if(f.value)try{const t=await B.post(`/admin/webhook/platforms/${a}/toggle`,{},{signal:S.value.signal});t.success&&f.value&&(d(t.message,"success"),await C())}catch(t){if(t.name==="AbortError"||!f.value)return;d("æ“ä½œå¤±è´¥","error"),console.error(t)}},pe=async a=>{if(f.value)try{const t={type:a.type,secret:a.secret,enableSign:a.enableSign};a.type==="bark"?(t.deviceKey=a.deviceKey,t.serverUrl=a.serverUrl,t.level=a.level,t.sound=a.sound,t.group=a.group):a.type==="smtp"?(t.host=a.host,t.port=a.port,t.secure=a.secure,t.user=a.user,t.pass=a.pass,t.from=a.from,t.to=a.to,t.ignoreTLS=a.ignoreTLS):a.type==="telegram"?(t.botToken=a.botToken,t.chatId=a.chatId,t.apiBaseUrl=a.apiBaseUrl,t.proxyUrl=a.proxyUrl):t.url=a.url,(await B.post("/admin/webhook/test",t,{signal:S.value.signal})).success&&f.value&&d("æµ‹è¯•æˆåŠŸ","success")}catch(t){if(t.name==="AbortError"||!f.value)return;d(t.error||t.message||"æµ‹è¯•å¤±è´¥","error"),console.error(t)}},ye=async()=>{if(f.value&&H()){$.value=!0;try{(await B.post("/admin/webhook/test",r.value,{signal:S.value.signal})).success&&f.value&&d("æµ‹è¯•æˆåŠŸ","success")}catch(a){if(a.name==="AbortError"||!f.value)return;d(a.error||a.message||"æµ‹è¯•å¤±è´¥","error"),console.error(a)}finally{f.value&&($.value=!1)}}},be=async()=>{var a,t,s,V;if(f.value)try{(await B.post("/admin/webhook/test-notification",{},{signal:S.value.signal})).success&&f.value&&d("æµ‹è¯•é€šçŸ¥å·²å‘é€","success")}catch(L){if(L.name==="AbortError"||!f.value)return;const Ue=((t=(a=L==null?void 0:L.response)==null?void 0:a.data)==null?void 0:t.message)||((V=(s=L==null?void 0:L.response)==null?void 0:s.data)==null?void 0:V.error)||(L==null?void 0:L.message)||"å‘é€å¤±è´¥";d(Ue,"error"),console.error(L)}},X=()=>{f.value&&(R.value=!1,setTimeout(()=>{f.value&&(F.value=null,r.value={type:"wechat_work",name:"",url:"",enableSign:!1,secret:"",botToken:"",chatId:"",apiBaseUrl:"",proxyUrl:"",deviceKey:"",serverUrl:"",level:"",sound:"",group:"",host:"",port:null,secure:!1,user:"",pass:"",from:"",to:"",timeout:null,ignoreTLS:!1},g.value=!1,D.value=!1,$.value=!1,E.value=!1)},0))},Z=a=>({wechat_work:"ä¼ä¸šå¾®ä¿¡",dingtalk:"é’‰é’‰",feishu:"é£ä¹¦",slack:"Slack",discord:"Discord",telegram:"Telegram",bark:"Bark",smtp:"é‚®ä»¶é€šçŸ¥",custom:"è‡ªå®šä¹‰"})[a]||a,ve=a=>({wechat_work:"fab fa-weixin text-green-600",dingtalk:"fas fa-comment-dots text-blue-500",feishu:"fas fa-dove text-blue-600",slack:"fab fa-slack text-purple-600",discord:"fab fa-discord text-indigo-600",telegram:"fab fa-telegram-plane text-sky-500",bark:"fas fa-bell text-orange-500",smtp:"fas fa-envelope text-blue-600",custom:"fas fa-webhook text-gray-600"})[a]||"fas fa-bell",ee=a=>({wechat_work:"è¯·åœ¨ä¼ä¸šå¾®ä¿¡ç¾¤æœºå™¨äººè®¾ç½®ä¸­è·å–Webhookåœ°å€",dingtalk:"è¯·åœ¨é’‰é’‰ç¾¤æœºå™¨äººè®¾ç½®ä¸­è·å–Webhookåœ°å€",feishu:"è¯·åœ¨é£ä¹¦ç¾¤æœºå™¨äººè®¾ç½®ä¸­è·å–Webhookåœ°å€",slack:"è¯·åœ¨Slackåº”ç”¨çš„Incoming Webhooksä¸­è·å–åœ°å€",discord:"è¯·åœ¨DiscordæœåŠ¡å™¨çš„é›†æˆè®¾ç½®ä¸­åˆ›å»ºWebhook",telegram:"ä½¿ç”¨ @BotFather åˆ›å»ºæœºå™¨äººå¹¶å¤åˆ¶ Tokenï¼ŒChat ID å¯é€šè¿‡ @userinfobot æˆ–ç›¸å…³å·¥å…·è·å–",bark:"è¯·åœ¨Bark Appä¸­æŸ¥çœ‹æ‚¨çš„è®¾å¤‡å¯†é’¥",smtp:"è¯·é…ç½®SMTPæœåŠ¡å™¨ä¿¡æ¯ï¼Œæ”¯æŒGmailã€QQé‚®ç®±ç­‰",custom:"è¯·è¾“å…¥å®Œæ•´çš„Webhookæ¥æ”¶åœ°å€"})[a]||"",ke=a=>a?a.length<=12?a:`${a.slice(0,6)}...${a.slice(-4)}`:"",he=a=>({accountAnomaly:"è´¦å·å¼‚å¸¸",quotaWarning:"é…é¢è­¦å‘Š",systemError:"ç³»ç»Ÿé”™è¯¯",securityAlert:"å®‰å…¨è­¦æŠ¥",rateLimitRecovery:"é™æµæ¢å¤",test:"æµ‹è¯•é€šçŸ¥"})[a]||a,we=a=>({accountAnomaly:"è´¦å·çŠ¶æ€å¼‚å¸¸ã€è®¤è¯å¤±è´¥ç­‰",quotaWarning:"APIè°ƒç”¨é…é¢ä¸è¶³è­¦å‘Š",systemError:"ç³»ç»Ÿè¿è¡Œé”™è¯¯å’Œæ•…éšœ",securityAlert:"å®‰å…¨ç›¸å…³çš„è­¦æŠ¥é€šçŸ¥",rateLimitRecovery:"é™æµçŠ¶æ€æ¢å¤æ—¶å‘é€æé†’",test:"ç”¨äºæµ‹è¯•Webhookè¿æ¥æ˜¯å¦æ­£å¸¸"})[a]||"",te=async()=>{try{const a={siteName:b.value.siteName,siteIcon:b.value.siteIcon,siteIconData:b.value.siteIconData,showAdminButton:b.value.showAdminButton},t=await x.saveOemSettings(a);t&&t.success?d("OEMè®¾ç½®ä¿å­˜æˆåŠŸ","success"):d((t==null?void 0:t.message)||"ä¿å­˜å¤±è´¥","error")}catch{d("ä¿å­˜OEMè®¾ç½®å¤±è´¥","error")}},re=async()=>{if(confirm(`ç¡®å®šè¦é‡ç½®ä¸ºé»˜è®¤è®¾ç½®å—ï¼Ÿ

è¿™å°†æ¸…é™¤æ‰€æœ‰è‡ªå®šä¹‰çš„ç½‘ç«™åç§°å’Œå›¾æ ‡è®¾ç½®ã€‚`))try{const a=await x.resetOemSettings();a&&a.success?d("å·²é‡ç½®ä¸ºé»˜è®¤è®¾ç½®","success"):d("é‡ç½®å¤±è´¥","error")}catch{d("é‡ç½®å¤±è´¥","error")}},ae=async a=>{const t=a.target.files[0];if(!t)return;const s=x.validateIconFile(t);if(!s.isValid){s.errors.forEach(V=>d(V,"error"));return}try{const V=await x.fileToBase64(t);b.value.siteIconData=V}catch{d("æ–‡ä»¶è¯»å–å¤±è´¥","error")}a.target.value=""},se=()=>{b.value.siteIcon="",b.value.siteIconData=""},le=()=>{console.warn("Icon failed to load")},oe=x.formatDateTime;return(a,t)=>(i(),n(J,null,[e("div",_t,[e("div",It,[t[84]||(t[84]=e("div",{class:"mb-4 sm:mb-6"},[e("h3",{class:"mb-1 text-lg font-bold text-gray-900 dark:text-gray-100 sm:mb-2 sm:text-xl"}," ç³»ç»Ÿè®¾ç½® "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 sm:text-base"},"ç½‘ç«™å®šåˆ¶å’Œé€šçŸ¥é…ç½®")],-1)),e("div",At,[e("nav",Vt,[e("button",{class:P(["border-b-2 pb-2 text-sm font-medium transition-colors",l.value==="branding"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:t[0]||(t[0]=s=>l.value="branding")},t[36]||(t[36]=[e("i",{class:"fas fa-palette mr-2"},null,-1),c(" å“ç‰Œè®¾ç½® ",-1)]),2),e("button",{class:P(["border-b-2 pb-2 text-sm font-medium transition-colors",l.value==="webhook"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:t[1]||(t[1]=s=>l.value="webhook")},t[37]||(t[37]=[e("i",{class:"fas fa-bell mr-2"},null,-1),c(" é€šçŸ¥è®¾ç½® ",-1)]),2),e("button",{class:P(["border-b-2 pb-2 text-sm font-medium transition-colors",l.value==="prompts"?"border-blue-500 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"]),onClick:t[2]||(t[2]=s=>l.value="prompts")},t[38]||(t[38]=[e("i",{class:"fas fa-comment-dots mr-2"},null,-1),c(" Prompts ç®¡ç† ",-1)]),2)])]),v(j)?(i(),n("div",Bt,t[39]||(t[39]=[e("div",{class:"loading-spinner mx-auto mb-4"},null,-1),e("p",{class:"text-gray-500 dark:text-gray-400"},"æ­£åœ¨åŠ è½½è®¾ç½®...",-1)]))):(i(),n("div",Pt,[p(e("div",null,[e("div",Dt,[e("table",$t,[e("tbody",Ft,[e("tr",Lt,[t[41]||(t[41]=e("td",{class:"w-48 whitespace-nowrap px-6 py-4"},[e("div",{class:"flex items-center"},[e("div",{class:"mr-3 flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-blue-600"},[e("i",{class:"fas fa-font text-xs text-white"})]),e("div",null,[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"}," ç½‘ç«™åç§° "),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"å“ç‰Œæ ‡è¯†")])])],-1)),e("td",jt,[p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>v(b).siteName=s),class:"form-input w-full max-w-md dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200",maxlength:"100",placeholder:"Claude Relay Service",type:"text"},null,512),[[w,v(b).siteName]]),t[40]||(t[40]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," å°†æ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡é¢˜å’Œé¡µé¢å¤´éƒ¨ ",-1))])]),e("tr",Mt,[t[46]||(t[46]=e("td",{class:"w-48 whitespace-nowrap px-6 py-4"},[e("div",{class:"flex items-center"},[e("div",{class:"mr-3 flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-purple-500 to-purple-600"},[e("i",{class:"fas fa-image text-xs text-white"})]),e("div",null,[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"}," ç½‘ç«™å›¾æ ‡ "),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Favicon")])])],-1)),e("td",Et,[e("div",Rt,[v(b).siteIconData||v(b).siteIcon?(i(),n("div",Nt,[e("img",{alt:"å›¾æ ‡é¢„è§ˆ",class:"h-8 w-8",src:v(b).siteIconData||v(b).siteIcon,onError:le},null,40,Wt),t[43]||(t[43]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"å½“å‰å›¾æ ‡",-1)),e("button",{class:"rounded-lg px-3 py-1 font-medium text-red-600 transition-colors hover:bg-red-50 hover:text-red-900",onClick:se},t[42]||(t[42]=[e("i",{class:"fas fa-trash mr-1"},null,-1),c("åˆ é™¤ ",-1)]))])):k("",!0),e("div",null,[e("input",{ref_key:"iconFileInput",ref:W,accept:".ico,.png,.jpg,.jpeg,.svg",class:"hidden",type:"file",onChange:ae},null,544),e("button",{class:"btn btn-success px-4 py-2",onClick:t[4]||(t[4]=s=>a.$refs.iconFileInput.click())},t[44]||(t[44]=[e("i",{class:"fas fa-upload mr-2"},null,-1),c(" ä¸Šä¼ å›¾æ ‡ ",-1)])),t[45]||(t[45]=e("span",{class:"ml-3 text-xs text-gray-500 dark:text-gray-400"},"æ”¯æŒ .ico, .png, .jpg, .svg æ ¼å¼ï¼Œæœ€å¤§ 350KB",-1))])])])]),e("tr",qt,[t[49]||(t[49]=e("td",{class:"w-48 whitespace-nowrap px-6 py-4"},[e("div",{class:"flex items-center"},[e("div",{class:"mr-3 flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600"},[e("i",{class:"fas fa-eye-slash text-xs text-white"})]),e("div",null,[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-100"}," ç®¡ç†å…¥å£ "),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"ç™»å½•æŒ‰é’®æ˜¾ç¤º")])])],-1)),e("td",Ot,[e("div",Kt,[e("label",zt,[p(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>m.value=s),class:"peer sr-only",type:"checkbox"},null,512),[[Q,m.value]]),t[47]||(t[47]=e("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1)),e("span",Ht,y(m.value?"éšè—ç™»å½•æŒ‰é’®":"æ˜¾ç¤ºç™»å½•æŒ‰é’®"),1)])]),t[48]||(t[48]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," éšè—åï¼Œç”¨æˆ·éœ€è¦ç›´æ¥è®¿é—® /admin/login é¡µé¢ç™»å½• ",-1))])]),e("tr",null,[e("td",Qt,[e("div",Jt,[e("div",Xt,[e("button",{class:P(["btn btn-primary px-6 py-3",{"cursor-not-allowed opacity-50":v(o)}]),disabled:v(o),onClick:te},[v(o)?(i(),n("div",Gt)):(i(),n("i",Zt)),c(" "+y(v(o)?"ä¿å­˜ä¸­...":"ä¿å­˜è®¾ç½®"),1)],10,Yt),e("button",{class:"btn bg-gray-100 px-6 py-3 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",disabled:v(o),onClick:re},t[50]||(t[50]=[e("i",{class:"fas fa-undo mr-2"},null,-1),c(" é‡ç½®ä¸ºé»˜è®¤ ",-1)]),8,er)]),v(b).updatedAt?(i(),n("div",tr,[t[51]||(t[51]=e("i",{class:"fas fa-clock mr-1"},null,-1)),c(" æœ€åæ›´æ–°ï¼š"+y(v(oe)(v(b).updatedAt)),1)])):k("",!0)])])])])])]),e("div",rr,[e("div",ar,[t[52]||(t[52]=O('<div class="mb-3 flex items-center gap-3" data-v-34a5e448><div class="flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-600 text-white shadow-md" data-v-34a5e448><i class="fas fa-tag" data-v-34a5e448></i></div><div data-v-34a5e448><h3 class="text-base font-semibold text-gray-900 dark:text-gray-100" data-v-34a5e448>ç«™ç‚¹åç§°</h3><p class="text-sm text-gray-500 dark:text-gray-400" data-v-34a5e448>è‡ªå®šä¹‰æ‚¨çš„ç«™ç‚¹å“ç‰Œåç§°</p></div></div>',1)),p(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>v(b).siteName=s),class:"form-input w-full dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200",maxlength:"100",placeholder:"Claude Relay Service",type:"text"},null,512),[[w,v(b).siteName]])]),e("div",sr,[t[56]||(t[56]=O('<div class="mb-3 flex items-center gap-3" data-v-34a5e448><div class="flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 text-white shadow-md" data-v-34a5e448><i class="fas fa-image" data-v-34a5e448></i></div><div data-v-34a5e448><h3 class="text-base font-semibold text-gray-900 dark:text-gray-100" data-v-34a5e448>ç«™ç‚¹å›¾æ ‡</h3><p class="text-sm text-gray-500 dark:text-gray-400" data-v-34a5e448> ä¸Šä¼ è‡ªå®šä¹‰å›¾æ ‡æˆ–è¾“å…¥å›¾æ ‡URL </p></div></div>',1)),e("div",lr,[v(b).siteIconData||v(b).siteIcon?(i(),n("div",or,[e("img",{alt:"å›¾æ ‡é¢„è§ˆ",class:"h-8 w-8",src:v(b).siteIconData||v(b).siteIcon,onError:le},null,40,nr),t[53]||(t[53]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"å½“å‰å›¾æ ‡",-1)),e("button",{class:"rounded-lg px-3 py-1 font-medium text-red-600 transition-colors hover:bg-red-50 hover:text-red-900",onClick:se}," åˆ é™¤ ")])):k("",!0),e("div",null,[e("input",{ref:"iconFileInputMobile",accept:".ico,.png,.jpg,.jpeg,.svg",class:"hidden",type:"file",onChange:ae},null,544),e("button",{class:"btn btn-success px-4 py-2",onClick:t[7]||(t[7]=s=>a.$refs.iconFileInputMobile.click())},t[54]||(t[54]=[e("i",{class:"fas fa-upload mr-2"},null,-1),c(" ä¸Šä¼ å›¾æ ‡ ",-1)])),t[55]||(t[55]=e("p",{class:"mt-2 text-xs text-gray-500 dark:text-gray-400"}," æ”¯æŒ .ico, .png, .jpg, .svg æ ¼å¼ï¼Œæœ€å¤§ 350KB ",-1))])])]),e("div",ir,[t[59]||(t[59]=O('<div class="mb-3 flex items-center gap-3" data-v-34a5e448><div class="flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 text-white shadow-md" data-v-34a5e448><i class="fas fa-eye-slash" data-v-34a5e448></i></div><div data-v-34a5e448><h3 class="text-base font-semibold text-gray-900 dark:text-gray-100" data-v-34a5e448>ç®¡ç†å…¥å£</h3><p class="text-sm text-gray-500 dark:text-gray-400" data-v-34a5e448>æ§åˆ¶ç™»å½•æŒ‰é’®åœ¨é¦–é¡µçš„æ˜¾ç¤º</p></div></div>',1)),e("div",dr,[e("label",ur,[p(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>m.value=s),class:"peer sr-only",type:"checkbox"},null,512),[[Q,m.value]]),t[57]||(t[57]=e("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1)),e("span",gr,y(m.value?"éšè—ç™»å½•æŒ‰é’®":"æ˜¾ç¤ºç™»å½•æŒ‰é’®"),1)]),t[58]||(t[58]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," éšè—åï¼Œç”¨æˆ·éœ€è¦ç›´æ¥è®¿é—® /admin/login é¡µé¢ç™»å½• ",-1))])]),e("div",cr,[e("div",fr,[e("button",{class:P(["btn btn-primary w-full px-6 py-3",{"cursor-not-allowed opacity-50":v(o)}]),disabled:v(o),onClick:te},[v(o)?(i(),n("div",xr)):(i(),n("i",pr)),c(" "+y(v(o)?"ä¿å­˜ä¸­...":"ä¿å­˜è®¾ç½®"),1)],10,mr),e("button",{class:"btn w-full bg-gray-100 px-6 py-3 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",disabled:v(o),onClick:re},t[60]||(t[60]=[e("i",{class:"fas fa-undo mr-2"},null,-1),c(" é‡ç½®ä¸ºé»˜è®¤ ",-1)]),8,yr),v(b).updatedAt?(i(),n("div",br,[t[61]||(t[61]=e("i",{class:"fas fa-clock mr-1"},null,-1)),c(" ä¸Šæ¬¡æ›´æ–°: "+y(v(oe)(v(b).updatedAt)),1)])):k("",!0)])])])],512),[[K,l.value==="branding"]]),p(e("div",null,[e("div",vr,[e("div",kr,[t[63]||(t[63]=e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"å¯ç”¨é€šçŸ¥"),e("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," å¼€å¯åï¼Œç³»ç»Ÿå°†æŒ‰é…ç½®å‘é€é€šçŸ¥åˆ°æŒ‡å®šå¹³å° ")],-1)),e("label",hr,[p(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>T.value.enabled=s),class:"peer sr-only",type:"checkbox",onChange:U},null,544),[[Q,T.value.enabled]]),t[62]||(t[62]=e("div",{class:"peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-blue-800"},null,-1))])])]),e("div",wr,[t[65]||(t[65]=e("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},"é€šçŸ¥ç±»å‹",-1)),e("div",Ur,[(i(!0),n(J,null,G(T.value.notificationTypes,(s,V)=>(i(),n("div",{key:V,class:"flex items-center justify-between"},[e("div",null,[e("span",Tr,y(he(V)),1),e("span",Cr,y(we(V)),1)]),e("label",Sr,[p(e("input",{"onUpdate:modelValue":L=>T.value.notificationTypes[V]=L,class:"peer sr-only",type:"checkbox",onChange:U},null,40,_r),[[Q,T.value.notificationTypes[V]]]),t[64]||(t[64]=e("div",{class:"peer h-5 w-9 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-green-600 peer-checked:after:translate-x-full peer-checked:after:border-white dark:border-gray-600 dark:bg-gray-700"},null,-1))])]))),128))])]),e("div",Ir,[e("div",Ar,[t[67]||(t[67]=e("h2",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"é€šçŸ¥å¹³å°",-1)),e("button",{class:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700",onClick:t[10]||(t[10]=s=>R.value=!0)},t[66]||(t[66]=[e("i",{class:"fas fa-plus mr-2"},null,-1),c(" æ·»åŠ å¹³å° ",-1)]))]),T.value.platforms&&T.value.platforms.length>0?(i(),n("div",Vr,[(i(!0),n(J,null,G(T.value.platforms,s=>(i(),n("div",{key:s.id,class:"rounded-lg border border-gray-200 p-4 dark:border-gray-700"},[e("div",Br,[e("div",Pr,[e("div",Dr,[e("i",{class:P(["mr-3 text-xl",ve(s.type)])},null,2),e("div",null,[e("h3",$r,y(s.name||Z(s.type)),1),e("p",Fr,y(Z(s.type)),1)])]),e("div",Lr,[s.type!=="smtp"&&s.type!=="telegram"?(i(),n("div",jr,[t[68]||(t[68]=e("i",{class:"fas fa-link mr-2"},null,-1)),e("span",Mr,y(s.url),1)])):k("",!0),s.type==="telegram"?(i(),n("div",Er,[t[69]||(t[69]=e("i",{class:"fas fa-comments mr-2"},null,-1)),e("span",Rr,"Chat ID: "+y(s.chatId||"æœªé…ç½®"),1)])):k("",!0),s.type==="telegram"&&s.botToken?(i(),n("div",Nr,[t[70]||(t[70]=e("i",{class:"fas fa-key mr-2"},null,-1)),e("span",Wr,"Token: "+y(ke(s.botToken)),1)])):k("",!0),s.type==="telegram"&&s.apiBaseUrl?(i(),n("div",qr,[t[71]||(t[71]=e("i",{class:"fas fa-globe mr-2"},null,-1)),e("span",Or,"API: "+y(s.apiBaseUrl),1)])):k("",!0),s.type==="telegram"&&s.proxyUrl?(i(),n("div",Kr,[t[72]||(t[72]=e("i",{class:"fas fa-route mr-2"},null,-1)),e("span",zr,"ä»£ç†: "+y(s.proxyUrl),1)])):k("",!0),s.type==="smtp"&&s.to?(i(),n("div",Hr,[t[73]||(t[73]=e("i",{class:"fas fa-envelope mr-2"},null,-1)),e("span",Qr,y(Array.isArray(s.to)?s.to.join(", "):s.to),1)])):k("",!0),s.enableSign?(i(),n("div",Jr,t[74]||(t[74]=[e("i",{class:"fas fa-shield-alt mr-2"},null,-1),e("span",null,"å·²å¯ç”¨ç­¾åéªŒè¯",-1)]))):k("",!0)])]),e("div",Xr,[e("label",Yr,[e("input",{checked:s.enabled,class:"peer sr-only",type:"checkbox",onChange:V=>xe(s.id)},null,40,Gr),t[75]||(t[75]=e("div",{class:"peer h-5 w-9 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-4 after:w-4 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-green-600 peer-checked:after:translate-x-full peer-checked:after:border-white dark:border-gray-600 dark:bg-gray-700"},null,-1))]),e("button",{class:"rounded-lg bg-blue-100 p-2 text-blue-600 transition-colors hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-400 dark:hover:bg-blue-800",title:"æµ‹è¯•è¿æ¥",onClick:V=>pe(s)},t[76]||(t[76]=[e("i",{class:"fas fa-vial"},null,-1)]),8,Zr),e("button",{class:"rounded-lg bg-gray-100 p-2 text-gray-600 transition-colors hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600",title:"ç¼–è¾‘",onClick:V=>fe(s)},t[77]||(t[77]=[e("i",{class:"fas fa-edit"},null,-1)]),8,ea),e("button",{class:"rounded-lg bg-red-100 p-2 text-red-600 transition-colors hover:bg-red-200 dark:bg-red-900 dark:text-red-400 dark:hover:bg-red-800",title:"åˆ é™¤",onClick:V=>me(s.id)},t[78]||(t[78]=[e("i",{class:"fas fa-trash"},null,-1)]),8,ta)])])]))),128))])):(i(),n("div",ra,' æš‚æ— é…ç½®çš„é€šçŸ¥å¹³å°ï¼Œè¯·ç‚¹å‡»"æ·»åŠ å¹³å°"æŒ‰é’®æ·»åŠ  '))]),e("div",aa,[t[82]||(t[82]=e("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-gray-200"},"é«˜çº§è®¾ç½®",-1)),e("div",sa,[e("div",null,[t[79]||(t[79]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," æœ€å¤§é‡è¯•æ¬¡æ•° ",-1)),p(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>T.value.retrySettings.maxRetries=s),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",max:"10",min:"0",type:"number",onChange:U},null,544),[[w,T.value.retrySettings.maxRetries,void 0,{number:!0}]])]),e("div",null,[t[80]||(t[80]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," é‡è¯•å»¶è¿Ÿ (æ¯«ç§’) ",-1)),p(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>T.value.retrySettings.retryDelay=s),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",max:"10000",min:"100",step:"100",type:"number",onChange:U},null,544),[[w,T.value.retrySettings.retryDelay,void 0,{number:!0}]])]),e("div",null,[t[81]||(t[81]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," è¶…æ—¶æ—¶é—´ (æ¯«ç§’) ",-1)),p(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>T.value.retrySettings.timeout=s),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",max:"30000",min:"1000",step:"1000",type:"number",onChange:U},null,544),[[w,T.value.retrySettings.timeout,void 0,{number:!0}]])])])]),e("div",{class:"mt-6 text-center"},[e("button",{class:"rounded-lg bg-green-600 px-6 py-3 text-white shadow-lg transition-all hover:bg-green-700 hover:shadow-xl",onClick:be},t[83]||(t[83]=[e("i",{class:"fas fa-paper-plane mr-2"},null,-1),c(" å‘é€æµ‹è¯•é€šçŸ¥ ",-1)]))])],512),[[K,l.value==="webhook"]]),p(e("div",null,[de(St,{embedded:!0})],512),[[K,l.value==="prompts"]])]))])]),R.value?(i(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm transition-all duration-300 ease-out",onClick:X},[e("div",{class:"relative mx-4 w-full max-w-2xl overflow-hidden rounded-2xl bg-white shadow-2xl transition-all duration-300 ease-out dark:bg-gray-800",onClick:t[35]||(t[35]=Ve(()=>{},["stop"]))},[e("div",la,[e("div",oa,[e("div",na,[t[85]||(t[85]=e("div",{class:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg"},[e("i",{class:"fas fa-bell"})],-1)),e("div",null,[e("h3",ia,y(F.value?"ç¼–è¾‘":"æ·»åŠ ")+"é€šçŸ¥å¹³å° ",1),e("p",da," é…ç½®"+y(F.value?"å¹¶æ›´æ–°":"æ–°çš„")+"Webhooké€šçŸ¥æ¸ é“ ",1)])]),e("button",{class:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-300",onClick:X},t[86]||(t[86]=[e("i",{class:"fas fa-times text-lg"},null,-1)]))])]),e("div",ua,[e("div",ga,[e("div",null,[t[90]||(t[90]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-layer-group mr-2 text-gray-400"}),c(" å¹³å°ç±»å‹ ")],-1)),e("div",ca,[p(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>r.value.type=s),class:"w-full appearance-none rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 text-gray-900 shadow-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white",disabled:F.value},t[87]||(t[87]=[O('<option value="wechat_work" data-v-34a5e448>ğŸŸ¢ ä¼ä¸šå¾®ä¿¡</option><option value="dingtalk" data-v-34a5e448>ğŸ”µ é’‰é’‰</option><option value="feishu" data-v-34a5e448>ğŸŸ¦ é£ä¹¦</option><option value="slack" data-v-34a5e448>ğŸŸ£ Slack</option><option value="discord" data-v-34a5e448>ğŸŸª Discord</option><option value="telegram" data-v-34a5e448>âœˆï¸ Telegram</option><option value="bark" data-v-34a5e448>ğŸ”” Bark</option><option value="smtp" data-v-34a5e448>ğŸ“§ é‚®ä»¶é€šçŸ¥</option><option value="custom" data-v-34a5e448>âš™ï¸ è‡ªå®šä¹‰</option>',9)]),8,fa),[[Y,r.value.type]]),t[88]||(t[88]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},[e("i",{class:"fas fa-chevron-down text-gray-400"})],-1))]),F.value?(i(),n("p",ma,t[89]||(t[89]=[e("i",{class:"fas fa-info-circle mr-1"},null,-1),c(" ç¼–è¾‘æ¨¡å¼ä¸‹ä¸èƒ½æ›´æ”¹å¹³å°ç±»å‹ ",-1)]))):k("",!0)]),e("div",null,[t[91]||(t[91]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-tag mr-2 text-gray-400"}),c(" åç§° "),e("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),p(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>r.value.name=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚ï¼šè¿ç»´ç¾¤é€šçŸ¥ã€å¼€å‘æµ‹è¯•ç¾¤",type:"text"},null,512),[[w,r.value.name]])]),r.value.type!=="bark"&&r.value.type!=="smtp"&&r.value.type!=="telegram"?(i(),n("div",xa,[t[95]||(t[95]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-link mr-2 text-gray-400"}),c(" Webhook URL "),e("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),e("div",pa,[p(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>r.value.url=s),class:P(["w-full rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",{"border-red-500 focus:border-red-500 focus:ring-red-500/20":g.value,"border-green-500 focus:border-green-500 focus:ring-green-500/20":D.value}]),placeholder:"https://...",required:"",type:"url",onInput:q},null,34),[[w,r.value.url]]),D.value?(i(),n("div",ya,t[92]||(t[92]=[e("i",{class:"fas fa-check-circle text-green-500"},null,-1)]))):k("",!0),g.value?(i(),n("div",ba,t[93]||(t[93]=[e("i",{class:"fas fa-exclamation-circle text-red-500"},null,-1)]))):k("",!0)]),ee(r.value.type)?(i(),n("div",va,[t[94]||(t[94]=e("i",{class:"fas fa-info-circle mr-2 mt-0.5 text-blue-600 dark:text-blue-400"},null,-1)),e("p",ka,y(ee(r.value.type)),1)])):k("",!0)])):k("",!0),r.value.type==="telegram"?(i(),n("div",ha,[e("div",null,[t[96]||(t[96]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-robot mr-2 text-gray-400"}),c(" Bot Token "),e("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>r.value.botToken=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚ï¼š123456789:ABCDEFghijk-xyz",required:"",type:"text"},null,512),[[w,r.value.botToken]]),t[97]||(t[97]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," åœ¨ Telegram çš„ @BotFather ä¸­åˆ›å»ºæœºå™¨äººåè·å¾—çš„ Token ",-1))]),e("div",null,[t[98]||(t[98]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-comments mr-2 text-gray-400"}),c(" Chat ID "),e("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>r.value.chatId=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚ï¼š123456789 æˆ– -1001234567890",required:"",type:"text"},null,512),[[w,r.value.chatId]]),t[99]||(t[99]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," å¯ä½¿ç”¨ @userinfobotã€@RawDataBot æˆ– API è·å–èŠå¤©/é¢‘é“çš„ Chat ID ",-1))]),e("div",null,[t[100]||(t[100]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-globe mr-2 text-gray-400"}),c(" API åŸºç¡€åœ°å€ "),e("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),p(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>r.value.apiBaseUrl=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"é»˜è®¤: https://api.telegram.org",type:"url"},null,512),[[w,r.value.apiBaseUrl]]),t[101]||(t[101]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," ä½¿ç”¨è‡ªå»º Bot API æ—¶å¯è¦†ç›–é»˜è®¤åŸŸåï¼Œéœ€ä»¥ http æˆ– https å¼€å¤´ ",-1))]),e("div",null,[t[102]||(t[102]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-route mr-2 text-gray-400"}),c(" ä»£ç†åœ°å€ "),e("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),p(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>r.value.proxyUrl=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚ï¼šsocks5://user:pass@127.0.0.1:1080",type:"text"},null,512),[[w,r.value.proxyUrl]]),t[103]||(t[103]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," æ”¯æŒ httpã€httpsã€socks4/4a/5 ä»£ç†ï¼Œç•™ç©ºåˆ™ç›´æ¥è¿æ¥ Telegram å®˜æ–¹ API ",-1))]),t[104]||(t[104]=e("div",{class:"flex items-start rounded-lg bg-blue-50 p-3 text-sm text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"},[e("i",{class:"fas fa-info-circle mr-2 mt-0.5"}),e("div",null,"æœºå™¨äººéœ€å…ˆåŠ å…¥å¯¹åº”ç¾¤ç»„æˆ–é¢‘é“å¹¶æˆäºˆå‘é€æ¶ˆæ¯æƒé™ï¼Œé€šçŸ¥ä¼šä»¥çº¯æ–‡æœ¬æ–¹å¼å‘é€ã€‚")],-1))])):k("",!0),r.value.type==="bark"?(i(),n("div",wa,[e("div",null,[t[105]||(t[105]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-key mr-2 text-gray-400"}),c(" è®¾å¤‡å¯†é’¥ (Device Key) "),e("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[21]||(t[21]=s=>r.value.deviceKey=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚ï¼šaBcDeFgHiJkLmNoPqRsTuVwX",required:"",type:"text"},null,512),[[w,r.value.deviceKey]]),t[106]||(t[106]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," åœ¨Bark Appä¸­æŸ¥çœ‹æ‚¨çš„æ¨é€å¯†é’¥ ",-1))]),e("div",null,[t[107]||(t[107]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-server mr-2 text-gray-400"}),c(" æœåŠ¡å™¨åœ°å€ "),e("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),p(e("input",{"onUpdate:modelValue":t[22]||(t[22]=s=>r.value.serverUrl=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"é»˜è®¤: https://api.day.app/push",type:"url"},null,512),[[w,r.value.serverUrl]])]),e("div",null,[t[109]||(t[109]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-flag mr-2 text-gray-400"}),c(" é€šçŸ¥çº§åˆ« ")],-1)),p(e("select",{"onUpdate:modelValue":t[23]||(t[23]=s=>r.value.level=s),class:"w-full appearance-none rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 text-gray-900 shadow-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},t[108]||(t[108]=[O('<option value="" data-v-34a5e448>è‡ªåŠ¨ï¼ˆæ ¹æ®é€šçŸ¥ç±»å‹ï¼‰</option><option value="passive" data-v-34a5e448>è¢«åŠ¨</option><option value="active" data-v-34a5e448>é»˜è®¤</option><option value="timeSensitive" data-v-34a5e448>æ—¶æ•ˆæ€§</option><option value="critical" data-v-34a5e448>ç´§æ€¥</option>',5)]),512),[[Y,r.value.level]])]),e("div",null,[t[111]||(t[111]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-volume-up mr-2 text-gray-400"}),c(" é€šçŸ¥å£°éŸ³ ")],-1)),p(e("select",{"onUpdate:modelValue":t[24]||(t[24]=s=>r.value.sound=s),class:"w-full appearance-none rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 text-gray-900 shadow-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},t[110]||(t[110]=[O('<option value="" data-v-34a5e448>è‡ªåŠ¨ï¼ˆæ ¹æ®é€šçŸ¥ç±»å‹ï¼‰</option><option value="default" data-v-34a5e448>é»˜è®¤</option><option value="alarm" data-v-34a5e448>è­¦æŠ¥</option><option value="bell" data-v-34a5e448>é“ƒå£°</option><option value="birdsong" data-v-34a5e448>é¸Ÿé¸£</option><option value="electronic" data-v-34a5e448>ç”µå­éŸ³</option><option value="glass" data-v-34a5e448>ç»ç’ƒ</option><option value="horn" data-v-34a5e448>å–‡å­</option><option value="silence" data-v-34a5e448>é™éŸ³</option>',9)]),512),[[Y,r.value.sound]])]),e("div",null,[t[112]||(t[112]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-folder mr-2 text-gray-400"}),c(" é€šçŸ¥åˆ†ç»„ "),e("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),p(e("input",{"onUpdate:modelValue":t[25]||(t[25]=s=>r.value.group=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"é»˜è®¤: claude-relay",type:"text"},null,512),[[w,r.value.group]])]),t[113]||(t[113]=e("div",{class:"mt-2 flex items-start rounded-lg bg-blue-50 p-3 dark:bg-blue-900/20"},[e("i",{class:"fas fa-info-circle mr-2 mt-0.5 text-blue-600 dark:text-blue-400"}),e("div",{class:"text-sm text-blue-700 dark:text-blue-300"},[e("p",null,"1. åœ¨iPhoneä¸Šå®‰è£…Bark App"),e("p",null,"2. æ‰“å¼€Appè·å–æ‚¨çš„è®¾å¤‡å¯†é’¥"),e("p",null,"3. å°†å¯†é’¥ç²˜è´´åˆ°ä¸Šæ–¹è¾“å…¥æ¡†")])],-1))])):k("",!0),r.value.type==="smtp"?(i(),n("div",Ua,[e("div",null,[t[114]||(t[114]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-server mr-2 text-gray-400"}),c(" SMTP æœåŠ¡å™¨ "),e("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[26]||(t[26]=s=>r.value.host=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"ä¾‹å¦‚: smtp.gmail.com",required:"",type:"text"},null,512),[[w,r.value.host]])]),e("div",Ta,[e("div",null,[t[115]||(t[115]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-plug mr-2 text-gray-400"}),c(" ç«¯å£ ")],-1)),p(e("input",{"onUpdate:modelValue":t[27]||(t[27]=s=>r.value.port=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white",max:"65535",min:"1",placeholder:"587",type:"number"},null,512),[[w,r.value.port,void 0,{number:!0}]]),t[116]||(t[116]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," é»˜è®¤: 587 (TLS) æˆ– 465 (SSL) ",-1))]),e("div",null,[t[118]||(t[118]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-shield-alt mr-2 text-gray-400"}),c(" åŠ å¯†æ–¹å¼ ")],-1)),p(e("select",{"onUpdate:modelValue":t[28]||(t[28]=s=>r.value.secure=s),class:"w-full appearance-none rounded-xl border border-gray-300 bg-white px-4 py-3 pr-10 text-gray-900 shadow-sm transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},t[117]||(t[117]=[e("option",{value:!1},"STARTTLS (ç«¯å£587)",-1),e("option",{value:!0},"SSL/TLS (ç«¯å£465)",-1)]),512),[[Y,r.value.secure]])])]),e("div",null,[t[119]||(t[119]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-user mr-2 text-gray-400"}),c(" ç”¨æˆ·å "),e("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[29]||(t[29]=s=>r.value.user=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"user@example.com",required:"",type:"email"},null,512),[[w,r.value.user]])]),e("div",null,[t[120]||(t[120]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-lock mr-2 text-gray-400"}),c(" å¯†ç  / åº”ç”¨å¯†ç  "),e("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[30]||(t[30]=s=>r.value.pass=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"é‚®ç®±å¯†ç æˆ–åº”ç”¨ä¸“ç”¨å¯†ç ",required:"",type:"password"},null,512),[[w,r.value.pass]]),t[121]||(t[121]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," å»ºè®®ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç ï¼Œè€Œéé‚®ç®±ç™»å½•å¯†ç  ",-1))]),e("div",null,[t[122]||(t[122]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-paper-plane mr-2 text-gray-400"}),c(" å‘ä»¶äººé‚®ç®± "),e("span",{class:"ml-2 text-xs text-gray-500"},"(å¯é€‰)")],-1)),p(e("input",{"onUpdate:modelValue":t[31]||(t[31]=s=>r.value.from=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"é»˜è®¤ä½¿ç”¨ç”¨æˆ·åé‚®ç®±",type:"email"},null,512),[[w,r.value.from]])]),e("div",null,[t[123]||(t[123]=e("label",{class:"mb-2 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-envelope mr-2 text-gray-400"}),c(" æ”¶ä»¶äººé‚®ç®± "),e("span",{class:"ml-1 text-xs text-red-500"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[32]||(t[32]=s=>r.value.to=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder:text-gray-500",placeholder:"admin@example.com",required:"",type:"email"},null,512),[[w,r.value.to]]),t[124]||(t[124]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"æ¥æ”¶é€šçŸ¥çš„é‚®ç®±åœ°å€",-1))])])):k("",!0),r.value.type==="dingtalk"||r.value.type==="feishu"?(i(),n("div",Ca,[e("div",Sa,[e("div",_a,[e("label",Ia,[p(e("input",{id:"enableSign","onUpdate:modelValue":t[33]||(t[33]=s=>r.value.enableSign=s),class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-0",type:"checkbox"},null,512),[[Q,r.value.enableSign]]),t[125]||(t[125]=e("span",{class:"ml-3 flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},[e("i",{class:"fas fa-shield-alt mr-2 text-gray-400"}),c(" å¯ç”¨ç­¾åéªŒè¯ ")],-1))]),r.value.enableSign?(i(),n("span",Aa," å·²å¯ç”¨ ")):k("",!0)]),de(Ae,{"enter-active-class":"transition-all duration-200 ease-out","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-150 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:Ie(()=>[r.value.enableSign?(i(),n("div",Va,[t[126]||(t[126]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," ç­¾åå¯†é’¥ ",-1)),p(e("input",{"onUpdate:modelValue":t[34]||(t[34]=s=>r.value.secret=s),class:"w-full rounded-xl border border-gray-300 bg-white px-4 py-3 font-mono text-sm text-gray-900 shadow-sm transition-all placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder:text-gray-500",placeholder:"SEC...",type:"text"},null,512),[[w,r.value.secret]])])):k("",!0)]),_:1})])])):k("",!0)])]),e("div",Ba,[e("div",Pa,[t[128]||(t[128]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},[e("i",{class:"fas fa-asterisk mr-1 text-red-500"}),c(" å¿…å¡«é¡¹ ")],-1)),e("div",Da,[e("button",{class:"group flex items-center rounded-xl border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 shadow-sm transition-all hover:bg-gray-50 hover:shadow-md dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700",onClick:X},t[127]||(t[127]=[e("i",{class:"fas fa-times mr-2 transition-transform group-hover:scale-110"},null,-1),c(" å–æ¶ˆ ",-1)])),e("button",{class:"group flex items-center rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-sm font-medium text-blue-700 shadow-sm transition-all hover:bg-blue-100 hover:shadow-md dark:border-blue-800 dark:bg-blue-900/50 dark:text-blue-300 dark:hover:bg-blue-900/70",disabled:$.value,onClick:ye},[e("i",{class:P(["mr-2 transition-transform",$.value?"fas fa-spinner fa-spin":"fas fa-vial group-hover:scale-110"])},null,2),c(" "+y($.value?"æµ‹è¯•ä¸­...":"æµ‹è¯•è¿æ¥"),1)],8,$a),e("button",{class:"group flex items-center rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow-md transition-all hover:from-blue-700 hover:to-indigo-700 hover:shadow-lg disabled:cursor-not-allowed disabled:from-gray-400 disabled:to-gray-500",disabled:!_.value||E.value,onClick:ce},[e("i",{class:P(["mr-2 transition-transform",E.value?"fas fa-spinner fa-spin":"fas fa-save group-hover:scale-110"])},null,2),c(" "+y(E.value?"ä¿å­˜ä¸­...":F.value?"ä¿å­˜ä¿®æ”¹":"æ·»åŠ å¹³å°"),1)],8,Fa)])])])])])):k("",!0)],64))}}),Na=ge(La,[["__scopeId","data-v-34a5e448"]]);export{Na as default};
